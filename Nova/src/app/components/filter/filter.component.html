<div id= "login-page" style="height:100vh; top:0px; position:fixed; width: 100%;">
<app-navbar></app-navbar>
<div *ngIf='test(message +"")' ></div>

<div id="game-list" class="d-flex justify-content-center py-5">

    <label class="font-weight-bold font" for="filter"><h5>Filter:</h5></label>
    <select name="filter" class="mx-3" id="filter" [(ngModel)]="filter">
        <option value="genre">Genre</option>
        <option value="platform">Platform</option>
        <option value="rating">Rating</option>
    </select>

    <!-- Added Dynmaic Insertion of Filter Values -->
    <select *ngIf="filter == 'genre'" name="value" id="genre" [(ngModel)]="value">
        <option *ngFor="let genre of genres" [value]="genre">
            {{genre}}
        </option>
    </select>

    <select *ngIf="filter == 'platform'" name="value" id="platform" [(ngModel)]="value">
        <option *ngFor="let platform of platforms" [value]="platform">
            {{platform}}
        </option>
    </select>

    <select *ngIf="filter == 'rating'" name="value" id="rating" [(ngModel)]="value">
        <option *ngFor="let rating of ratings" [value]="rating">
            {{rating}}
        </option>
    </select>

    <button class="btn btn-primary mx-3" (click)="filterProducts(value, filter)">Apply Filter</button>
    <button class="btn btn-primary mx-1" (click)="resetFilter()">Reset</button>
</div>
<br><br>

<!--  Tentative Set-Up for Multiple Filters-->

<div id="all-games"class="row">
    <div class="col-2"></div>
</div>


    <!-- Displays All Products Saved Within Our Database -->


    <!-- <div *ngIf='products.length == 0'>No available Products with that name (searches are case sensitive)</div>
    Above Code is basic logic for showing something if there no products to display. If used, be sure to format -->

    <div class="container" *ngIf="!btnFilter">
        <div class="py-2 px-3 justify-content-center card-outline-primary" *ngFor="let product of products;">
            <div class="card border border-primary" (click)="onClick(product)">
                <div class="row">
                    <div class="col">
                        <div class="card-body">
                            <p class="card-text"><img src="{{product.imageUrl}}" alt="" height="200" width="200"></p>
                        </div>
                    </div>
                    <div class="col-3 my-5">
                        <div class="card-body">
                            <a routerLink="/products/details" routerLinkActive="active"><h5>{{product.title}}</h5></a>
                            <p>{{product.genre}}</p>
                        </div>
                    </div>
                    <div class="col-2 my-5">
                        <div class="card-body">
                            <h4>Price</h4>
                            <p>${{product.price}}</p>
                        </div>
                    </div>
                    <div class="col-2 my-5">
                        <div class="card-body">
                            <h4>Platform</h4>
                            <p>{{product.platform}}</p>
                        </div>
                    </div>
                    <div class="col-2 my-5">
                        <div class="card-body">
                            <button class="btn btn-outline-primary" (click)="btnClick(product)">
                                Add To Cart
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Displays All Products which match the applied filter -->
    <div class="container" *ngIf="btnFilter">
        <div class="justify-content-center col py-2 card-outline-primary" *ngFor="let product of filtered;">
            <div class="card border border-primary" (click)="onClick(product)">
                <div class="row">
                    <div class="col md-auto">
                        <div class="card-body">
                            <p class="card-text"><img src="{{product.imageUrl}}" alt="" height="200" width="200"></p>
                        </div>
                    </div>
                    <div class="col md-auto my-5">
                        <div class="card-body">
                            <a routerLink="/product-page" routerLinkActive="active"><h5>{{product.title}}</h5></a>
                            <p>{{product.genre}}</p>
                        </div>
                    </div>
                    <div class="col md-auto ml-4 my-5">
                        <div class="card-body">
                            <h4>Price</h4>
                            <p>$ {{product.price}}</p>
                        </div>
                    </div>
                    <div class="col-2 my-5">
                        <div class="card-body">
                            <h4>Platform</h4>
                            <p>{{product.platform}}</p>
                        </div>
                    </div>
                    <div class="col md-auto my-5">
                        <div class="card-body">
                            <button class="btn btn-outline-primary" (click)="btnClick(product)">
                                Add To Cart
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-2"></div>
</div>
